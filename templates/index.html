<!DOCTYPE html>
<html>
<head>
  <title>搜尋頁面</title>
  <script src="/static/script.js" defer></script>
  <link rel="stylesheet" href="/static/style.css">
</head>
  <body>
    <!-- 第一步：輸入查詢對象 -->
    <form id="school-form">
      <label>學校縮寫: <input type="text" name="school_abbr" required></label>
      <button type="submit">查詢</button>
    </form>

    <!-- 第二步：選項表單（初始為 hidden） -->
    <form id="search-form" style="display:none; margin-top: 20px;">

      <!-- 條件區 -->
      <h2>搜尋條件</h2>
      <div class="slider-container price">
        <label for="priceSlider">價格範圍（元）：</label>
        <div class="slider-wrapper">
          <div class="slider-track" id="price-slider-track" style="width: 100%;"></div>
          <div id="minPriceThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="50000" aria-valuenow="0">
            <span class="thumb-value" id="minPriceDisplay">0</span>
          </div>
          <div id="maxPriceThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="50000" aria-valuenow="50000" style="left: 100%;">
            <span class="thumb-value" id="maxPriceDisplay">50000</span>
          </div>
        </div>
        <input type="hidden" id="minPrice" name="min_price" value="0">
        <input type="hidden" id="maxPrice" name="max_price" value="50000">
      </div>
      <div class="slider-container area">
        <label for="areaSlider">坪數範圍（坪）：</label>
        <div class="slider-wrapper">
          <div class="slider-track" id="area-slider-track" style="width: 100%;"></div>
          <div id="minAreaThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
            <span class="thumb-value" id="minAreaDisplay">0</span>
          </div>
          <div id="maxAreaThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100" style="left: 100%;">
            <span class="thumb-value" id="maxAreaDisplay">100</span>
          </div>
        </div>
        <input type="hidden" id="minArea" name="min_area" value="0">
        <input type="hidden" id="maxArea" name="max_area" value="100">
      </div>
      <label>性別：</label>
      <select name="gender">
        <option value="N/A">不限</option>
        <option value="M">男</option>
        <option value="F">女</option>
      </select><br>

      <label>學校座標：</label>
      <label>經度: <input type="number" name="longitude" step="0.0000001"></label>
      <label>緯度: <input type="number" name="latitude" step="0.0000001"></label><br>
      <div class="slider-container distance">
        <label for="distanceSlider">通勤距離範圍（公尺）：</label>
        <div class="slider-wrapper">
          <div class="slider-track" id="distance-slider-track" style="width: 100%;"></div>
          <div id="distanceThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="20000" aria-valuenow="20000" style="left: 100%;">
            <span class="thumb-value" id="distanceDisplay">20000</span>
          </div>
        </div>
        <input type="hidden" id="distance" name="distance" value="20000">
      </div>

      <div class="slider-container duration">
        <label for="durationSlider">通勤時間範圍（秒）：</label>
        <div class="slider-wrapper">
          <div class="slider-track" id="duration-slider-track" style="width: 100%;"></div>
          <div id="durationThumb" class="slider-thumb" aria-valuemin="0" aria-valuemax="6000" aria-valuenow="6000" style="left: 100%;">
            <span class="thumb-value" id="durationDisplay">6000</span>
          </div>
        </div>
        <input type="hidden" id="duration" name="duration" value="6000">
      </div>
      <label>建築材料（全留空，表不限）：</label>
      <label><input type="checkbox" name="material" value="cement">水泥</label>

      <details>
        <summary>更多選項</summary>
        <label>房間類型(全留空，表不限)：</label>
        <label><input type="checkbox" name="room_types" value="suite">套房</label>
        <label><input type="checkbox" name="room_types" value="room">雅房</label>
        <label>房屋類型（全留空，表不限）：</label>
        <label><input type="checkbox" name="house_types" value="apartment">公寓</label>
        <label><input type="checkbox" name="house_types" value="townhouse">透天</label>
        <label><input type="checkbox" name="house_types" value="building">大樓</label>
        <label><input type="checkbox" name="house_types" value="condominium">華廈</label>
        <label><input type="checkbox" name="house_types" value="dormitory">學舍</label>
        <label>出租類型（全留空，表不限）：</label>
        <label><input type="checkbox" name="rent_types" value="room_share">房間分租</label>
        <label><input type="checkbox" name="rent_types" value="whole">整戶出租</label>
        <label><input type="checkbox" name="rent_types" value="suite">獨立套房</label>
      </details>


      <label>Sort Order:</label>
      <p>選擇排序依據，正數表有小到大，負數反之，0表示不排序</p>
      <p>且數字越大者越先作為比較依據</p>
      <label>最低價格：<input type="number" name="min_price_order"></label><br>
      <label>最高價格：<input type="number" name="max_price_order"></label><br>
      <label>坪數：<input type="number" name="area_order"></label><br>
      <label>通勤時間：<input type="number" name="duration_order"></label><br>
      <label>通勤距離：<input type="number" name="distance_order"></label><br>



      <button type="submit">Submit</button>
    </form>

    <!-- 結果區塊 -->
    <hr>
    <div id="result-section" style="display:none;">
      <h2>搜尋結果</h2>
      <ul id="result-list"></ul>
    </div>
  </body>
</html>
